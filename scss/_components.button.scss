/* ## Button
---------------------------------*/
$btn-border-width: $component-border-width !default;
$btn-height-computed: $text-size-base * $line-height-normal + 2 * nth($spacing-squish-sm, 1)  + 2 * $btn-border-width;
$enable-btn-focus-box-shadow: true;

.btn {
  cursor: pointer;
  position: relative;
  display: inline-block;
  vertical-align: middle;
  padding: $spacing-squish-sm;
  font-size: $text-size-base;
  line-height: $line-height-normal;
  height: $btn-height-computed;
  min-width: $btn-height-computed;
  border-width: $btn-border-width;
  border-style: solid;
  border-radius: $component-border-radius-base;
  white-space: nowrap;
  text-overflow: ellipsis;
  text-decoration: none;
  text-align: center;
  background: none;
  box-shadow: none;
  appearance: none;

  &.is-loading {
    color: transparent;
    cursor: not-allowed;

    &:after {
      animation: spin-around 500ms infinite linear;
      border: 2px solid transparent;
      border-radius: 50%;
      content: "";
      display: block;
      height: 16px;
      width: 16px;
      position: absolute;
      left: 50%;
      top: 50%;
      margin-left: -8px;
      margin-top: -8px;
    }
  }

  @include btn-variant(
    $background: $white,
    $border: $grey-thin,
    $color: $grey-dark,
    $hover-background: $grey-light,
    $hover-border: $grey-thin,
    $hover-color: $grey-dark,
    $active-background: shade-color($grey-light, 1),
    $active-border: shade-color($grey-thin, 1),
    $active-color: $grey-dark
  );

  &[disabled],
  fieldset[disabled] & {
    opacity: .3;
    cursor: not-allowed;
  }

}

.btn.btn--black {
  @include btn-variant($black);
  &.btn--outline {
    @include btn-outline-variant($black);
  }
}

.btn.btn--dark {
  @include btn-variant($grey-dark);
  &.btn--outline {
    @include btn-outline-variant($grey-dark);
  }
}

.btn.btn--white {
  @include btn-variant($white);
  &.btn--outline {
    @include btn-outline-variant($white);
  }
}

@each $name, $color in $theme-colors {
  .btn.btn--#{$name} {
    @include btn-variant($color);
    &.btn--outline {
      @include btn-outline-variant($color);
    }
  }
}

.btn.btn--sm {
  $btn-height-computed: $text-size-sm * $line-height-normal + 2 * nth($spacing-squish-xs, 1)  + 2 * $btn-border-width;

  font-size: $text-size-sm;
  border-radius: $component-border-radius-sm;
  padding: $spacing-squish-xs;
  height: $btn-height-computed;
  min-width: $btn-height-computed;
}

.btn.btn--lg {
  $btn-height-computed: $text-size-lg * $line-height-normal + 2 * nth($spacing-squish-md, 1)  + 2 * $btn-border-width;

  font-size: $text-size-lg;
  border-radius: $component-border-radius-lg;
  padding: $spacing-squish-md;
  height: $btn-height-computed;
  min-width: $btn-height-computed;
}

.btn.btn--loose {
  padding-left: 2em;
  padding-right: 2em;
}

.btn.btn--block {
  display: block;
  width: 100%;
}

/* ## Button Group
---------------------------------*/
.btn-group {
  display: inline-flex;

  .btn {
    flex: 1 0 auto;

    &.is-active {
      z-index: 15;
    }

    &:not(:first-of-type) {
      margin-left: - $btn-border-width;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &:not(:last-of-type) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

  }

  &--block {
    display: flex;
    width: 100%;
  }
}

@keyframes spin-around {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
}
