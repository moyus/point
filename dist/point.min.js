/*!
 * @moyu/pointcss
 * @version v2.0.0-alpha.13
 * @link https://github.com/moyus/pointcss
 * @author moyu <moyuboy@gmail.com> (https://moyu.io)
 * @license MIT
 */
!function(){function t(e,t){for(var i=e.length,r=0;r<i;r++)t(e[r],r,e)}function l(e){if("string"==typeof e)this.trigger=document.querySelector(e);else{if(!(e instanceof Element))throw Error("Invalid trigger selector or element!");this.trigger=e}if(!this.trigger)throw Error("Trigger element does not exist!");var t,i=this.trigger.dataset.target,r=this.trigger.dataset.toggle,s=this.trigger.dataset.enter,n=this.trigger.dataset.leave;function a(e){"toggle"===t.type?t.toggle(e):"enter"===t.type?t.enter(e):"leave"===t.type&&t.leave(e)}void 0!==r||void 0!==s||void 0!==n?r?(this.type="toggle",this.service=l.services[r]):n?(this.type="leave",this.service=l.services[n]):s&&(this.type="enter",this.service=l.services[s]):(this.type="toggle",this.service=l.services.default),this.target=void 0!==i?document.getElementById(i):this.trigger,this.service&&this.target&&!this.trigger.__toggler__&&((t=this).trigger.addEventListener("click",a),this.listener=a,(this.trigger.__toggler__=this).service.init&&this.service.init.call(this))}l.prototype.destroy=function(){this.service.destroy&&this.service.destroy.call(this),this.trigger.removeEventListener("click",this.listener),this.trigger.__toggler__=null,this.trigger=null,this.target=null,this.listener=null},l.prototype.toggle=function(e){this.service.render.call(this,"toggle",e)},l.prototype.enter=function(e){this.service.render.call(this,"enter",e)},l.prototype.leave=function(e){this.service.render.call(this,"leave",e)},l.services={default:{render:function(e){"leave"===e?this.target.classList.remove("is-active"):"enter"===e?this.target.classList.add("is-active"):this.target.classList.toggle("is-active")}}},l.init=function(e){e?new l(e):(t(document.querySelectorAll("[data-toggle]"),function(e){new l(e)}),t(document.querySelectorAll("[data-enter]"),function(e){new l(e)}),t(document.querySelectorAll("[data-leave]"),function(e){new l(e)}))},(l.register=function(e){l.services[e.name]={init:e.init,render:e.render}})({name:"modal",render:function(e){"leave"===e?this.target.classList.add("hidden"):"enter"===e?this.target.classList.remove("hidden"):this.target.classList.toggle("hidden")}}),l.register({name:"dropdown",init:function(){var t=this;if(this.target===this.trigger){for(var e=this.trigger.parentNode.firstElementChild;e;){if(e!==this.trigger&&e.classList.contains("dropdown__content")){this.target=e;break}e=e.nextElementSibling}document.addEventListener("click",i),this.clickoutHandler=i}function i(e){t.target.contains(e.target)||t.trigger.contains(e.target)||t.leave()}},destroy:function(){document.removeEventListener("click",this.clickoutHandler)},render:function(e){"leave"===e?this.target.classList.add("hidden"):"enter"===e?this.target.classList.remove("hidden"):this.target.classList.toggle("hidden")}}),l.register({name:"menu",render:function(e,t){if(t)for(var i=t.target;i&&i!==t.currentTarget;){if(i.classList.contains("menu__link")){i.nextElementSibling&&i.nextElementSibling.classList.contains("menu__list")&&("leave"===e?i.parentNode.classList.remove("is-active"):"enter"===e?i.parentNode.classList.add("is-active"):i.parentNode.classList.toggle("is-active"));break}i=i.parentNode}}}),l.init(),window.Toggle=l}();